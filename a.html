<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blog Carousel with Caption Overlay</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #212529;
        color: #f8f9fa;
      }

      .big.big-2 {
        font-size: 6rem;
        font-weight: 900;
        color: #f8f9fa;
        opacity: 0.1;
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 0;
        user-select: none;
      }

      .heading-section {
        position: relative;
        z-index: 1;
      }

      /* Custom Carousel */
      .carousel-container {
        position: relative;
        overflow: hidden;
      }

      .carousel-track {
        display: flex;
        transition: transform 0.5s ease;
        gap: 10px;
      }

      .carousel-card {
        flex: 0 0 auto;
        height: 320px;
        border-radius: 8px;
        overflow: hidden;
        background-size: cover;
        background-position: center;
        color: white;
        display: flex;
        align-items: flex-end;
        padding: 15px;
        box-shadow: 0 4px 8px rgb(0 0 0 / 0.5);
        position: relative;
      }

      .carousel-caption {
        background: rgba(0, 0, 0, 0.6);
        padding: 12px 15px;
        border-radius: 6px;
        width: 100%;
        max-height: 140px;
        overflow: hidden;
        text-align: left;
      }

      .carousel-caption .meta {
        font-size: 0.85rem;
        color: #adb5bd;
        margin-bottom: 8px;
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
      }

      .carousel-caption .meta a {
        color: #adb5bd;
        text-decoration: none;
      }

      .carousel-caption h5 {
        margin: 0 0 8px 0;
        font-weight: 700;
        font-size: 1.2rem;
      }

      .carousel-caption p {
        font-size: 0.9rem;
        margin: 0;
        line-height: 1.2rem;
        opacity: 0.85;
      }

      /* Responsive Widths */
      @media (min-width: 1200px) {
        .carousel-card {
          width: 20%;
        }
      }

      @media (min-width: 992px) and (max-width: 1199.98px) {
        .carousel-card {
          width: 20%;
        }
      }

      @media (min-width: 768px) and (max-width: 991.98px) {
        .carousel-card {
          width: 33.3333%;
        }
      }

      @media (max-width: 767.98px) {
        .carousel-card {
          width: 50%;
        }
      }

      .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.3);
        border: none;
        width: 40px;
        height: 40px;
        z-index: 2;
        border-radius: 50%;
      }

      .carousel-btn svg {
        fill: #fff;
        width: 20px;
        height: 20px;
      }

      .carousel-btn.prev {
        left: -20px;
      }

      .carousel-btn.next {
        right: -20px;
      }
    </style>
  </head>

  <body>
    <section
      class="ftco-section"
      id="blog-section"
      style="position: relative; padding: 4rem 0"
    >
      <div class="container">
        <div class="row justify-content-center mb-5 pb-5">
          <div class="col-md-7 heading-section text-center ftco-animate">
            <h1 class="big big-2">Blog</h1>
            <h2 class="mb-4">Our Blog</h2>
            <p>
              Far far away, behind the word mountains, far from the countries
              Vokalia and Consonantia
            </p>
          </div>
        </div>

        <!-- Carousel Section -->
        <div class="carousel-container position-relative">
          <button class="carousel-btn prev" id="prevBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
              <path d="M13 15l-5-5 5-5v10z" />
            </svg>
          </button>
          <button class="carousel-btn next" id="nextBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
              <path d="M7 5l5 5-5 5V5z" />
            </svg>
          </button>

          <div class="carousel-track px-2" id="carouselTrack">
            <!-- Blog Item -->
            <div
              class="carousel-card"
              style="background-image: url('images/image_1.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>June 21, 2019</span>
                  <a href="#">Admin</a>
                  <a href="#">3 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Why Lead Generation is Key for Business Growth
                  </a>
                </h5>
                <p>A small river named Duden flows by their place...</p>
              </div>
            </div>

            <!-- Duplicate with different images/text as needed -->
            <div
              class="carousel-card"
              style="background-image: url('images/image_2.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>June 22, 2019</span>
                  <a href="#">Editor</a>
                  <a href="#">5 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Top Marketing Trends in 2023
                  </a>
                </h5>
                <p>
                  Marketing has shifted from outbound to inbound strategy...
                </p>
              </div>
            </div>

            <div
              class="carousel-card"
              style="background-image: url('images/image_3.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>July 5, 2019</span>
                  <a href="#">Guest</a>
                  <a href="#">10 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Building Trust Through Branding
                  </a>
                </h5>
                <p>Your brand is the single most important investment...</p>
              </div>
            </div>

            <div
              class="carousel-card"
              style="background-image: url('images/image_3.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>July 5, 2019</span>
                  <a href="#">Guest</a>
                  <a href="#">10 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Building Trust Through Branding
                  </a>
                </h5>
                <p>Your brand is the single most important investment...</p>
              </div>
            </div>

            <div
              class="carousel-card"
              style="background-image: url('images/image_3.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>July 5, 2019</span>
                  <a href="#">Guest</a>
                  <a href="#">10 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Building Trust Through Branding
                  </a>
                </h5>
                <p>Your brand is the single most important investment...</p>
              </div>
            </div>

            <div
              class="carousel-card"
              style="background-image: url('images/image_3.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>July 5, 2019</span>
                  <a href="#">Guest</a>
                  <a href="#">10 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Building Trust Through Branding
                  </a>
                </h5>
                <p>Your brand is the single most important investment...</p>
              </div>
            </div>

            <div
              class="carousel-card"
              style="background-image: url('images/image_3.jpg')"
            >
              <div class="carousel-caption">
                <div class="meta">
                  <span>July 5, 2019</span>
                  <a href="#">Guest</a>
                  <a href="#">10 Comments</a>
                </div>
                <h5>
                  <a
                    href="single.html"
                    style="color: #f8f9fa; text-decoration: none"
                  >
                    Building Trust Through Branding
                  </a>
                </h5>
                <p>Your brand is the single most important investment...</p>
              </div>
            </div>

            <!-- Add more cards as needed -->
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const track = document.getElementById("carouselTrack");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        let cards = Array.from(track.children);
        let currentIndex = 0;
        let itemsPerView = getItemsPerView();
        let isTransitioning = false;

        // Clone slides for infinite effect
        const cloneStart = cards
          .slice(-itemsPerView)
          .map((card) => card.cloneNode(true));
        const cloneEnd = cards
          .slice(0, itemsPerView)
          .map((card) => card.cloneNode(true));
        cloneStart.forEach((clone) =>
          track.insertBefore(clone, track.firstChild)
        );
        cloneEnd.forEach((clone) => track.appendChild(clone));

        // Update references
        cards = Array.from(track.children);
        currentIndex = itemsPerView;

        function getCardWidth() {
          return cards[0].offsetWidth + 10; // 10 = gap
        }

        function getItemsPerView() {
          const w = window.innerWidth;
          if (w >= 1200) return 5;
          if (w >= 768) return 3;
          if (w >= 576) return 2;
          return 1;
        }

        function updateCarousel(animate = true) {
          const cardWidth = getCardWidth();
          if (animate) {
            track.style.transition = "transform 0.5s ease";
          } else {
            track.style.transition = "none";
          }
          track.style.transform = `translateX(${-currentIndex * cardWidth}px)`;
        }

        nextBtn.addEventListener("click", () => {
          if (isTransitioning) return;
          isTransitioning = true;
          currentIndex++;
          updateCarousel();
        });

        prevBtn.addEventListener("click", () => {
          if (isTransitioning) return;
          isTransitioning = true;
          currentIndex--;
          updateCarousel();
        });

        track.addEventListener("transitionend", () => {
          const total = cards.length;
          itemsPerView = getItemsPerView(); // update on resize
          if (currentIndex >= total - itemsPerView) {
            currentIndex = itemsPerView;
            updateCarousel(false);
          } else if (currentIndex < itemsPerView) {
            currentIndex = total - itemsPerView * 2;
            updateCarousel(false);
          }
          isTransitioning = false;
        });

        window.addEventListener("resize", () => {
          itemsPerView = getItemsPerView();
          updateCarousel(false);
        });

        // Initial position to start after cloned head
        updateCarousel(false);
      });
    </script>
  </body>
</html>
